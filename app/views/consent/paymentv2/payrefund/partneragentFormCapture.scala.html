@*
* Payment and refund flows: data form.
*
* @param backend Backend to be used
* @param code Received as a result of authentication
* @param paymentSelfcareForm Form representation
* @param flow Flow name: transactions/payselfcare/refundselfcare
*@

@(backend: String, code : String, paymentSelfcareForm: Form[PaymentData], flow: String, error : Option[String])(implicit request: play.api.mvc.Request[play.api.mvc.AnyContent])

@import helper._
@import play.i18n.Messages
@import play.api.Play

@main("Welcome to "+Messages.get("section.consent.paymentv2." + flow)+" Apis") {
    <div class="container">
        <div class="row">
		    <h2>@Messages.get("section.consent.paymentv2." + flow)</h2>
		    <p>@Messages.get("section.consent.paymentv2.desc." + flow)</p>
        </div>
        @if(error.nonEmpty) {
	        <div class="row">
		        <p>
		            <div class="row">
		                <div class="alert-danger panel">
		                    <div class="alert-danger panel-heading">
		                        <h3 class="panel-title">Error</h3>
		                    </div>
		                    <div class="alert-danger panel-body">
		                        <code><pre>@{error}</pre></code>
		                    </div>
		                </div>
		            </div>
		        </p>
	        </div>
        } else {
	        <p>
	            @helper.form(action = routes.PaymentV2.paypartneragentApigeeCall(backend, flow), 'class -> "form-horizontal") {
	                <input type="hidden" name="authCode" id="authCode" value="@code"/>
	                <div class="form-group">
	                    <label for="endUserId" class="col-sm-4 control-label">End User ID</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="endUserId" id="endUserId" value="6c125983-d8ac-4a2d-8f3f-46367db810e3"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="amount" class="col-sm-4 control-label">Amount / Currency</label>
	                    <div class="col-sm-6">
	                        <input type="text" class="form-control" name="amount" id="amount" pattern="\-?\d+(\.\d+)?" required="1" value='@if("refundpartneragent".equals(flow)){-}256.02'/>
	                    </div>
	                    <div class="col-sm-2">
	                        <input type="text" class="form-control" name="currency" id="currency" required="1" value="CHF"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="description" class="col-sm-4 control-label">Description</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="description" id="description" required="1" value="Sample description"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="locale" class="col-sm-4 control-label">Locale</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="locale" id="locale" maxlength="5" required="1" value="de-CH"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="onBehalfOf" class="col-sm-4 control-label">On behalf of</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="onBehalfOf" id="onBehalfOf" required="1" value="Faraoh Shop"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="purchaseCategoryCode" class="col-sm-4 control-label">Purchase category code</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="purchaseCategoryCode" id="purchaseCategoryCode" required="1" value="Papyrus"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="taxRate" class="col-sm-4 control-label">Tax rate</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="taxRate" id="taxRate" pattern="\-?\d+(\.\d+)?" required="1" value="8"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <label for="referenceCode" class="col-sm-4 control-label">Reference code</label>
	                    <div class="col-sm-8">
	                        <input type="text" class="form-control" name="referenceCode" id="referenceCode" required="1" value="REF-FFFF"/>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <div class="col-sm-offset-4 col-sm-8">
	                        <input type="submit" class="btn btn-default"/>
	                    </div>
	                </div>
                }
	        </p>
        }
    </div>
}