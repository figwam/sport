@(backend: String, tokenInfoForm: Form[TokenInfo], transactionId: String, error: Option[String])(implicit request: play.api.mvc.Request[play.api.mvc.AnyContent])

@import helper._
@import play.i18n.Messages
@import play.api.Play

@main("Consent Token flow: End") {


    <div class="panel">
        <div class="panel-heading">
            <h3 class="panel-title">
                <img src="@routes.Assets.at("images/api.png")" width="100" height="100"/>
            </h3>
            <div class="btn-group pull-right"></div>
        </div>
        <div class="panel-body">
            <h2>Token Demo</h2>
            <p>
                This demo shows an oauth token creation with authorization code grant type.
            </p>
            @if(transactionId != null) {
                <div class="success alert alert-dismissable alert-success">
                    <button type="button" class="close" data-dismiss="alert">x</button>
                    @Html(transactionId)
                </div>
            }

            @if(error.isDefined) {
                <div class="alert alert-dismissable alert-danger">
                    <button type="button" class="close" data-dismiss="alert">x</button>
                    Error: @error.get
                </div>
            }

            <p>
            @helper.form(action = routes.ConsentToken.consentRedirect(backend), 'class -> "form-horizontal col-xs-12 col-md-6") {
                <div class="form-group">
                @helper.inputText(tokenInfoForm("ClientId"), 'class -> "form-control", 'placeholder -> "Enter client ID")
                </div>
                <div class="form-group">
                @helper.inputText(tokenInfoForm("ClientSecret"), 'class -> "form-control", 'placeholder -> "Enter client secret")
                </div>
                <div class="form-group">
                @helper.inputText(tokenInfoForm("Scope"), 'class -> "form-control", 'placeholder -> "Enter scope (optional)")
                </div>
                
                <!--
                <div class="form-group">
                @helper.inputRadioGroup(tokenInfoForm("Flow"),
                    options = options("true" -> "Code", "false" -> "Token"))
                </div>
                -->
                
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Get</button>
                </div>
            }
            </p>

        </div><!-- panel-heading -->
    </div> <!-- panel -->

}
